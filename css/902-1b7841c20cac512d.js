try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5c431fe3-b696-4d0d-8349-61150d4fcfb8",e._sentryDebugIdIdentifier="sentry-dbid-5c431fe3-b696-4d0d-8349-61150d4fcfb8")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{4073:(e,t,r)=>{"use strict";r.d(t,{UG:()=>a,lN:()=>n});let n={ready:"ready",preview:"preview",archive:"archive"},a={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif"}},4381:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(40828);r(87139);var a=r(53880);let l=e=>(0,n.jsx)(a.A,{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:(0,n.jsxs)("g",{transform:"translate(-3, -3) scale(1.2)",children:[(0,n.jsx)("path",{d:"M7 19.8277C5.89543 19.8277 5 18.9323 5 17.8277V13.8277C5 12.7231 5.89543 11.8277 7 11.8277H11L16.3492 7.24268C16.9979 6.68667 18 7.14758 18 8.00193V23.6535C18 24.5079 16.9979 24.9688 16.3492 24.4128L11 19.8277H7Z"}),(0,n.jsx)("path",{d:"M21.604 11.6331C21.2731 11.191 20.6332 11.1946 20.2426 11.5851C19.8521 11.9756 19.8623 12.6048 20.1675 13.0651C20.3446 13.3323 20.4961 13.6167 20.6194 13.9143C20.8707 14.521 21 15.1711 21 15.8277C21 16.4844 20.8707 17.1345 20.6194 17.7412C20.4961 18.0388 20.3446 18.3231 20.1675 18.5904C19.8623 19.0507 19.8521 19.6799 20.2426 20.0704C20.6332 20.4609 21.2731 20.4645 21.604 20.0224C21.953 19.5561 22.2433 19.047 22.4672 18.5065C22.8189 17.6572 23 16.747 23 15.8277C23 14.9085 22.8189 13.9982 22.4672 13.1489C22.4532 13.1152 22.4389 13.0815 22.4244 13.048C22.2068 12.545 21.9312 12.0702 21.604 11.6331Z"}),(0,n.jsx)("path",{d:"M23.0534 8.77434C23.4537 8.37404 24.1069 8.37123 24.4682 8.80705C24.5558 8.91274 24.6414 9.02002 24.725 9.12883C25.3098 9.89052 25.7936 10.7272 26.1627 11.6182C26.2318 11.785 26.2967 11.9533 26.3574 12.123C26.7822 13.3106 27 14.5638 27 15.8277C27 17.2723 26.7155 18.7027 26.1627 20.0373C25.7409 21.0556 25.1692 22.0028 24.4682 22.8484C24.1069 23.2841 23.4537 23.2814 23.0534 22.8811C22.6531 22.4808 22.6584 21.835 23.0103 21.3916C23.526 20.7418 23.9499 20.0222 24.2686 19.2527C24.7184 18.1669 24.9499 17.0031 24.9499 15.8277C24.9499 14.6524 24.7184 13.4886 24.2686 12.4027C23.9499 11.6333 23.526 10.9136 23.0103 10.2639C22.9663 10.2084 22.9278 10.1498 22.8947 10.089C22.6634 9.66281 22.7031 9.1246 23.0534 8.77434Z"})]})})},5250:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(40828);r(87139);var a=r(53880);let l=e=>(0,n.jsx)(a.A,{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:(0,n.jsxs)("g",{transform:"translate(-3, -3) scale(1.2)",children:[(0,n.jsx)("path",{d:"M24 7C23.4477 7 23 7.44772 23 8V23C23 23.5523 23.4477 24 24 24C24.5523 24 25 23.5523 25 23V8C25 7.44772 24.5523 7 24 7Z"}),(0,n.jsx)("path",{d:"M7 22.7023C7 23.4864 7.86121 23.9655 8.52736 23.552L20.1311 16.3496C20.7613 15.9585 20.7613 15.0415 20.1311 14.6504L8.52736 7.44803C8.51695 7.44157 8.5065 7.43532 8.496 7.4293C8.4225 7.38711 8.34686 7.35549 8.27047 7.33367C7.65936 7.15909 7 7.61163 7 8.29767V22.7023Z"})]})})},7958:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(40828);r(87139);var a=r(53880);let l=e=>(0,n.jsx)(a.A,{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"none",...e,children:(0,n.jsxs)("g",{transform:"translate(-3, -3) scale(1.2)",children:[(0,n.jsx)("path",{d:"M9 8C9 7.44772 8.55228 7 8 7C7.44772 7 7 7.44772 7 8V23C7 23.5523 7.44772 24 8 24C8.55228 24 9 23.5523 9 23V8Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M23.4726 23.552C24.1388 23.9655 25 23.4864 25 22.7023V8.29767C25 7.51363 24.1388 7.03455 23.4726 7.44803L11.8689 14.6504C11.2387 15.0415 11.2387 15.9585 11.8689 16.3496L23.4726 23.552Z",fill:"currentColor"})]})})},11022:(e,t,r)=>{"use strict";r.d(t,{sM:()=>n});let n={FLAC:"FLAC",MP3_320:"MP3 320",MP3_V0:"MP3 V0",WAV:"WAV",OGG:"OGG",ALAC:"ALAC",AAC:"AAC"}},12623:(e,t,r)=>{"use strict";r.d(t,{CB:()=>o,pn:()=>i});var n=r(27834),a=r.n(n);let l=()=>a(),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){let r=l();return t?r.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}):r.sanitize(e)}return e},o=(e,t)=>!e||!(i(e,!0).length>t)},20048:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(40828);r(87139);var a=r(53880);let l=e=>(0,n.jsx)(a.A,{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:(0,n.jsxs)("g",{transform:"translate(-3, -3) scale(1.2)",children:[(0,n.jsx)("path",{d:"M7 19.8277C5.89543 19.8277 5 18.9323 5 17.8277V13.8277C5 12.7231 5.89543 11.8277 7 11.8277H11L16.3492 7.24268C16.9979 6.68667 18 7.14758 18 8.00193V23.6535C18 24.5079 16.9979 24.9688 16.3492 24.4128L11 19.8277H7Z"}),(0,n.jsx)("path",{d:"M23 17.2419L21.4142 18.8276C21.0237 19.2182 20.3905 19.2182 20 18.8276C19.6095 18.4371 19.6095 17.8039 20 17.4134L21.5858 15.8276L20 14.2419C19.6095 13.8513 19.6095 13.2182 20 12.8277C20.3905 12.4372 21.0237 12.4372 21.4142 12.8277L23 14.4134L24.5858 12.8277C24.9763 12.4372 25.6095 12.4372 26 12.8277C26.3905 13.2182 26.3905 13.8513 26 14.2419L24.4142 15.8276L26 17.4134C26.3905 17.804 26.3905 18.4371 26 18.8276C25.6095 19.2182 24.9763 19.2182 24.5858 18.8276L23 17.2419Z"})]})})},23550:(e,t,r)=>{"use strict";r.d(t,{$U:()=>c,AL:()=>s,E9:()=>u,K1:()=>o,kO:()=>a,nI:()=>i,nR:()=>l,rR:()=>d});var n=r(61353);let a=(e,t)=>{let r=e.duration()*t,n=r<0?0:r;return n>e.duration()?e.duration():n},l=(e,t,r)=>{let n=e.duration(),a=t-24,l=r/n*a||0,i=l>a?a:l;return"".concat((i<0?0:i)+12,"px")},i=(e,t)=>{let r=t/e*100||0,n=r>100?0:r;return"".concat(n<0?0:n,"%")},o=e=>{let{clientX:t,rectLeft:r,rectWidth:n}=e,a=(t-r)/n,l=a<0?0:a;return{minMaxPercent:l>100?100:l,percent:a}},s=e=>{let{clientX:t,rectLeft:r,rectWidth:n}=e;return(t-r)/n},u=e=>{let t=e>1?1:e;return 100*(t<0?0:t)+"%"},c=e=>{let t=100*e,r=t<0?0:t;return"".concat(r>100?100:r,"%")},d=(e,t,r)=>e<0?"0:00":e>t?r:(0,n.FI)(Math.round(e))},39867:(e,t,r)=>{"use strict";r.d(t,{tm:()=>o,yk:()=>i});var n=r(21026),a=r(12623),l=r(12884);let i=n.z.string().trim().refine(e=>(0,a.CB)(e,130),"Notes can be at most 130 characters"),o=n.z.object({id:n.z.string().uuid(),rank:n.z.number().int().min(0),featured:n.z.boolean(),metadata:l.bq,notes:i.nullable()})},52611:(e,t,r)=>{"use strict";r.d(t,{P3:()=>a});var n=r(21026);let a=n.z.object({active:n.z.boolean(),automaticallyRelease:n.z.boolean(),scheduledForReleaseDate:n.z.date().refine(e=>{let t=new Date;return e.getTime()>t.getTime()+1728e5},{message:"Date must be at least 48 hours in the future"}).refine(e=>{let t=new Date().getTime()+15552e6;return e.getTime()<t},{message:"Date must be no more than 6 months in the future"})});n.z.object({id:n.z.string().uuid(),active:n.z.boolean(),automaticallyRelease:n.z.boolean(),fulfilled:n.z.boolean(),releasedAt:n.z.date().nullable(),scheduledForReleaseDate:n.z.date()})},61353:(e,t,r)=>{"use strict";r.d(t,{FA:()=>p,FI:()=>m,YV:()=>b,i8:()=>o,ot:()=>g,ut:()=>C,vw:()=>f});var n=r(21026),a=r(41127);r(11022);var l=r(4073);let i=n.z.string().transform(e=>""===e?null:e).refine(e=>!e||15===e.length||12===e.length,{message:"ISRC codes must be 12 or 15 characters"}).optional().nullish(),o=n.z.object({albumId:n.z.string().uuid(),basePrice:n.z.number().min(0).optional().nullable(),canPurchase:n.z.boolean().default(!0),canStream:n.z.boolean().default(!0),canIncludeInLists:n.z.boolean().default(!0),canStreamDuringPreorder:n.z.boolean().default(!1),duration:n.z.number().optional().nullable(),lyrics:n.z.string().trim().max(5e3,"Lyrics cannot exceed 5000 characters").optional().nullable(),name:n.z.string().trim().min(1).max(255,"Name cannot exceed 225 characters"),trackNumber:n.z.number().min(1).optional(),trackUploadId:n.z.string().uuid().optional().nullable(),isrcCode:i}),s=o.extend({id:n.z.string()}),u=n.z.object({artistId:n.z.literal("PROGRAMMATIC"),name:n.z.string(),rank:n.z.number().int()});n.z.array(u),s.extend({trackArtists:n.z.array(n.z.object({artistId:n.z.string().uuid(),rank:n.z.number().int()})),additionalTrackArtistData:n.z.array(u).optional().nullable(),trackUpload:n.z.object({id:n.z.string(),archiveId:n.z.string().uuid(),previewId:n.z.string().uuid(),originalFilename:n.z.string(),uploadStatus:n.z.enum(["AWAITING_UPLOAD","PREVIEW_TRANSCODE_WAITING","PREVIEW_TRANSCODE_SUCCESS","PREVIEW_TRANSCODE_FAILED","FAILED"])}).optional().nullable()}).extend({trackUpload:n.z.object({id:n.z.string(),previewId:n.z.string().uuid()}).optional().nullable()});let c=(e,t)=>"".concat(e,"/").concat(t,".mp3"),d=(e,t)=>{if(!e||!t||e.length<5||t.length<5)throw Error("Inputs are missing or weirdly short, do not continue. TrackUpload ID "+e+" - preview Id"+t);return"/".concat(l.lN.preview,"/").concat(c(e,t))},p=(e,t,r)=>{if(r)return"".concat(a.MT).concat(d(e,t))},m=e=>{if(!e)return"0:00";let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},g=e=>{if(!e)return"0:00";let t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},b=(e,t,r)=>{let{canStream:n,canStreamDuringPreorder:a}=e;return(null==r?void 0:r.scope)==="FULL"||(t?t?a:n:(null==r?void 0:r.scope)==="PREORDER_AWARE"||n)},C={hasActivePreorder:{full:"Include all tracks now and forever.",preorderAware:"Follow preorder streaming rules until your preorder ends, then include all tracks."},doesNotHaveActivePreorder:{full:"Include all tracks now and forever.",preorderAware:"Include all tracks now. If a preorder is added later, follow preorder streaming rules until it ends."}},f=(e,t,r)=>t&&t.length?[...e,...t].sort((e,t)=>e.rank-t.rank).map(e=>"{albumArtistNamePlaceholder}"===e.name?{...e,artistId:"PROGRAMMATIC",name:r||"{albumArtistNamePlaceholder}"}:e):e},61446:e=>{e.exports={playerContainer:"player_playerContainer__mNajp",currentTrack:"player_currentTrack__4c1HN",controlsContainer:"player_controlsContainer__eaSFV",playButton:"player_playButton__NlBrB",pauseButton:"player_pauseButton__k_8y0",button:"player_button__iYTF5",volumeButton:"player_volumeButton___dK6j",controlsRight:"player_controlsRight__KR6gr",controlsWrapper:"player_controlsWrapper__buRJh",prevButton:"player_prevButton__3hhzi",nextButton:"player_nextButton__Libil",progressContainer:"player_progressContainer__fy_c0",timeElapsed:"player_timeElapsed__5wIPr",timeTotal:"player_timeTotal__P8BRk",progressBarContainer:"player_progressBarContainer__1sTIw",progressBar:"player_progressBar__9TR3F",progress:"player_progress__t_SuN",progressTrack:"player_progressTrack__wUzaV",volumeContainer:"player_volumeContainer__9MitX",volumeBar:"player_volumeBar__EnUgF",muted:"player_muted__77eFx",barEmpty:"player_barEmpty__OJwr8",barFull:"player_barFull__fHmI7",sliderButton:"player_sliderButton__gFWV2",progressSlider:"player_progressSlider__FV_m9",tracklist:"player_tracklist__ZN39m"}},67964:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(40828),a=r(22203),l=r(87139),i=r(5250),o=r(7958),s=r(34167),u=r(7705),c=r(11631),d=r(38729),p=r(4381),m=r(20048),g=r(59201);let b=e=>{let{isMuted:t,onPlayerEvent:r,variant:a="default",theme:l}=e;return(0,n.jsx)("button",{className:(0,g.n)({variant:a,theme:l}),"data-testid":"volume-button-wrapper","aria-label":t?"Unmute":"Mute",onClick:e=>{e.stopPropagation(),e.preventDefault(),r({action:"toggleMute"})},children:t?(0,n.jsx)(m.A,{color:"currentColor",className:(0,s.AH)({color:"dark"===l?"amp5":"amp4",_hover:{color:"dark"===l?"amp6":"amp5"}})}):(0,n.jsx)(p.A,{color:"currentColor",className:(0,s.AH)({color:"dark"===l?"amp5":"amp4",_hover:{color:"dark"===l?"amp6":"amp5"}})})})},C=(0,a.default)(()=>Promise.all([r.e(2090),r.e(1822),r.e(7800)]).then(r.bind(r,37151)),{loadableGenerated:{webpack:()=>[37151]},ssr:!1}),f=(0,s.AH)({color:"amp5",_hover:{color:"amp6"}}),h=e=>{let{collection:t,firstPlayableTrack:r,localCollection:a,persist:p,variant:m="default"}=e,{onPlayerEvent:h,playbackState:_,activeTrack:v,isMuted:x,collection:z}=l.useContext(u.K),{onClickPause:y,onClickPlay:A,onClickNext:I,onClickPrevious:j}=(0,c.N)({localCollection:a,collection:t,persist:p}),w="album"===t.type?null==r?void 0:r.album.id:null==v?void 0:v.album.id,k=z.id===t.id,L="album"===t.type?k&&"playing"===_:"playing"===_,N=k?null==v?void 0:v.title:null==r?void 0:r.title,E=!!k&&!(null==v?void 0:v.next);return"horizontal"===m?(0,n.jsxs)("div",{"data-testid":"controls-container",className:(0,s.AH)({display:"flex",alignItems:"center",gap:"16px",position:"relative",right:"8px"}),children:[(0,n.jsx)("button",{className:(0,g.n)({variant:m}),"aria-label":"Previous track","aria-disabled":!v,disabled:!v,onClick:j,children:(0,n.jsx)(o.A,{color:"currentColor",className:v?f:(0,s.AH)({color:"amp3"})})},"prev-button"),(0,n.jsx)("button",{className:(0,g.n)({variant:m}),"aria-label":"Next track","aria-disabled":E,disabled:E,onClick:I,children:(0,n.jsx)(i.A,{color:"currentColor",className:E?(0,s.AH)({color:"amp3"}):f})},"next-button"),(0,n.jsx)(b,{isMuted:x,onPlayerEvent:h,variant:m})]}):(0,n.jsxs)("div",{"data-testid":"controls-container",className:(0,s.AH)({display:"flex",width:"100%",alignItems:"top"}),children:[(0,n.jsx)(d.A,{activeAlbumId:null==v?void 0:v.album.id,onClickPause:y,onClickPlay:A,isPlaying:L,thisPlaylistAlbumId:w,variant:m,theme:"light"}),(0,n.jsxs)("div",{className:(0,s.AH)({display:"flex",overflow:"hidden",flex:1,flexDirection:"column",justifyContent:"space-between",marginLeft:"space1"}),children:[(0,n.jsxs)("div",{className:(0,s.AH)({display:"flex",alignItems:"center"}),children:[(0,n.jsxs)("div",{className:(0,s.AH)({display:"flex"}),children:[(0,n.jsx)("button",{className:(0,g.n)({variant:m}),"aria-label":"Previous track","aria-disabled":!v,disabled:!v,onClick:j,children:(0,n.jsx)(o.A,{color:"currentColor",className:v?f:(0,s.AH)({color:"amp3"})})},"prev-button"),(0,n.jsx)("button",{className:(0,g.n)({variant:m}),"aria-label":"Next track","aria-disabled":E,disabled:E,onClick:I,children:(0,n.jsx)(i.A,{color:"currentColor",className:E?(0,s.AH)({color:"amp3"}):f})},"next-button")]}),(0,n.jsxs)("div",{className:(0,s.AH)({display:"flex",gap:"space2",alignItems:"center",justifyContent:"space-between",width:"100%"}),children:[(0,n.jsx)(b,{isMuted:x,onPlayerEvent:h,variant:m}),(0,n.jsx)("span",{className:(0,s.AH)({display:"flex",flexGrow:1,"@supports (-webkit-touch-callout: none)":{display:"none !important"}}),children:(0,n.jsx)(C,{orientation:"horizontal"})})]})]}),(0,n.jsx)("span",{className:(0,s.AH)({fontSize:"13px",overflow:"hidden",WebkitLineClamp:1,lineClamp:1,fontWeight:"bold",marginLeft:"space1"}),children:N})]})]})}},71112:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(21026);let a=n.z.object({content:n.z.array(n.z.any()),type:n.z.literal("doc")}).or(n.z.object({}))},78217:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>p,J6:()=>g,Ww:()=>C,YW:()=>m,rl:()=>b});var n=r(21026);r(85526);var a=r(41127);r(52611);var l=r(39867),i=r(12884),o=r(71112),s=r(88978);let u=n.z.enum(["ALBUM","EP_SINGLE","GREATEST_HITS","MULTI_ARTIST","LIVE"]),c=n.z.string().trim().max(64).optional().nullish(),d=n.z.string().transform(e=>""===e?null:e).refine(e=>!e||e.length<=15&&e.length>=12,{message:"UPC codes must be 12 to 15 characters"}).optional().nullish(),p=5e3,m=5e3,g=n.z.object({name:n.z.string().trim().min(1).max(255),slug:n.z.string().trim().min(1).max(255),artistName:n.z.string().trim().min(1).max(75),notes:n.z.string().trim().max(10*m).optional().nullish(),notesJson:o.A.nullable(),credits:n.z.string().trim().max(10*m).optional().nullish(),creditsJson:o.A.nullable(),basePrice:n.z.coerce.number().min(0).max(99999),releasedDate:n.z.coerce.date(),category:u.default("ALBUM"),catalogNumber:c,upcCode:d});function b(e,t){if(!e)return;if(e.startsWith("http"))return e;let r="".concat(a.Xi,"/").concat(e);return t?(0,a.dQ)(r):r}g.extend({id:n.z.string().uuid(),imageAssets:n.z.array(l.tm).optional(),canPurchase:n.z.boolean(),visibility:s.Ty,distro:n.z.object({slug:n.z.string()})}),n.z.object({id:n.z.string().uuid(),name:n.z.string().trim().min(1).max(255),artistName:n.z.string().trim().max(255),slug:n.z.string().trim(),notes:n.z.string().trim().optional().nullable(),notesJson:o.A.optional().nullable(),credits:n.z.string().trim().optional().nullable(),creditsJson:o.A.optional().nullable(),canPurchase:n.z.boolean().default(!0),basePrice:n.z.coerce.number().nullable(),imageAssets:n.z.array(l.tm).optional(),releasedDate:n.z.coerce.date(),visibility:s.Ty.default("INVISIBLE"),catalogNumber:c,upcCode:d});let C={ALBUM:"Albums",EP_SINGLE:"EPs & singles",MULTI_ARTIST:"Splits and multi-artist compilations",GREATEST_HITS:"Compilations and greatest hits",LIVE:"Live albums"},f=n.z.object({id:n.z.string().uuid(),name:n.z.string(),slug:n.z.string(),category:n.z.string(),artistName:n.z.string(),distro:n.z.object({slug:n.z.string()})});f.extend({primaryImage:i.yT,releasedDate:n.z.date()}),f.extend({images:n.z.array(n.z.object({id:n.z.string().uuid(),rank:n.z.number().int().min(0),featured:n.z.boolean(),metadata:i.bq,notes:n.z.null()})).or(n.z.undefined()),releasedDate:n.z.string().datetime()})},83843:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(40828),a=r(61353),l=r(87139),i=r(25698),o=r(7705),s=r(61446),u=r.n(s),c=r(23550);let d=e=>{let{currentViewCollectionId:t,staticDuration:r,count:a=!0}=e,{onClickPointOnBar:i,onStartSeek:s,progressRef:d,progressTrackRef:p,progressSliderButtonRef:m,timerRef:g,onPointerMove:b}=function(e,t){let{onPlayerEvent:r,soundRef:n,collection:a}=(0,l.useContext)(o.K),i=(0,l.useRef)(null),s=(0,l.useRef)(!1),u=(0,l.useRef)(null),d=(0,l.useMemo)(()=>!!t&&a.id!==t,[a.id,t]),{progressRef:p,progressTrackRef:m,startProgressAnimation:g,stopProgressAnimation:b,progressSliderButtonRef:C,timerRef:f,updateProgress:h}=function(e,t){let{soundRef:r,playbackState:n,seekValue:a,collection:i}=(0,l.useContext)(o.K),s=(0,l.useRef)(null),u=(0,l.useRef)(null),d=(0,l.useRef)(null),p=(0,l.useRef)(null),m=(0,l.useRef)(null),g=(0,l.useCallback)((n,a)=>{if(!r.current||!s.current||!u.current||!d.current||t&&i.id!==t)return;let l=void 0===a?r.current.seek():a;"number"==typeof l&&(u.current.style.width=(0,c.nI)(r.current.duration(),l)),p.current&&(p.current.innerHTML=(0,c.rR)(l,r.current.duration(),e));let o=(0,c.nR)(r.current,s.current.offsetWidth,l);return d.current.style.left=o,!0},[i.id,t,r,e]);(0,l.useEffect)(()=>{g(void 0,a)},[a,g]);let b=(0,l.useCallback)(()=>{m.current&&clearTimeout(m.current)},[]),C=(0,l.useCallback)(()=>{g(void 0,void 0)&&(b(),m.current=setTimeout(()=>{requestAnimationFrame(C)},200))},[b,g]);return(0,l.useEffect)(()=>{switch(n){case"playing":if(t&&i.id!==t)return;C();break;case"paused":b()}},[i.id,t,n,C,b]),{progressRef:u,progressTrackRef:s,progressSliderButtonRef:d,timerRef:p,startProgressAnimation:C,stopProgressAnimation:b,updateProgress:g}}(e,t),_=(0,l.useCallback)(e=>{if(!s.current||!n.current||d||e.pointerId!==u.current||!m.current)return;let t=m.current.getBoundingClientRect(),r=(0,c.AL)({clientX:e.clientX,rectLeft:t.left,rectWidth:t.width}),a=(0,c.kO)(n.current,r);h(void 0,a),i.current=a},[d,m,n,h]),v=(0,l.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),e.pointerId===u.current&&(d||("number"==typeof i.current&&r({action:"seekExact",position:i.current}),C.current&&null!==u.current&&C.current.releasePointerCapture(u.current),i.current=null,s.current=!1,u.current=null,window.removeEventListener("pointerup",v),g()))},[d,r,C,g]),x=(0,l.useCallback)(e=>{d||(b(),e.currentTarget.setPointerCapture(e.pointerId),u.current=e.pointerId,s.current=!0,window.addEventListener("pointerup",v))},[d,v,b]);return{onClickPointOnBar:(0,l.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),s.current||d)return;let t=e.currentTarget.getBoundingClientRect();r({action:"seek",newSeekPercent:(0,c.AL)({clientX:e.clientX,rectLeft:t.left,rectWidth:t.width})})},[d,r]),onStartSeek:x,onDoneSeek:v,progressRef:p,progressTrackRef:m,progressSliderButtonRef:C,timerRef:f,onPointerMove:_}}(r,t);return(0,n.jsxs)("div",{"data-testid":"progress-container",id:u().progressContainer,onPointerMove:b,style:{touchAction:"none"},children:[a&&(0,n.jsx)("div",{id:u().timeElapsed,ref:g,children:"0:00"}),(0,n.jsxs)("div",{id:u().progressBarContainer,onPointerDown:i,children:[(0,n.jsxs)("div",{id:u().progressBar,children:[(0,n.jsx)("button",{ref:p,id:u().progressTrack}),(0,n.jsx)("button",{ref:d,id:u().progress})]}),(0,n.jsx)("div",{ref:m,className:u().progressSlider,id:u().sliderButton,onPointerDown:s})]}),a&&(0,n.jsx)("div",{id:u().timeTotal,children:r})]})},p=e=>{let{collectionId:t,localCollection:r=[],count:s}=e,{duration:u,collection:c,activeTrack:p}=l.useContext(o.K),{firstPlayableTrack:m}=(0,i.k)(r,c.type),g=t===c.id,b=g?null==p?void 0:p.duration:null==m?void 0:m.duration,C=b?(0,a.FI)(b):"";return t&&g||C?(0,n.jsx)(d,{currentViewCollectionId:t,staticDuration:C,count:s}):(0,n.jsx)(d,{currentViewCollectionId:t,staticDuration:u,count:s})}},88978:(e,t,r)=>{"use strict";r.d(t,{Ty:()=>n,d3:()=>a});let n=r(21026).z.enum(["VISIBLE","INVISIBLE","UNLISTED"]),a=e=>"VISIBLE"===e}}]);