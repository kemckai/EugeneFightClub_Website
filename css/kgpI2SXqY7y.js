;/*FB_PKG_DELIM*/

__d("ArbiterFrame",[],(function(t,n,r,o,a,i){var e={inform:function(t,n,r){var e=parent.frames,o=e.length,a;n.crossFrame=!0;for(var i=0;i<o;i++){a=e[i];try{if(!a||a==window)continue;a.require?a.require("Arbiter").inform(t,n,r):a.ServerJSAsyncLoader&&a.ServerJSAsyncLoader.wakeUp(t,n,r)}catch(e){}}}};a.exports=e}),null);
__d("AssertionError",["ManagedError"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){return e.call(this,t)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ManagedError"));l.default=e}),98);
__d("Assert",["AssertionError","sprintf"],(function(t,n,r,o,a,i,l){function e(e,t){if(typeof e!="boolean"||e===!1)throw new(r("AssertionError"))(t);return e}function s(t,n,o){var a;if(n===void 0)a="undefined";else if(n===null)a="null";else{var i=Object.prototype.toString.call(n),l=/\s(\w*)/.exec(i);a=l==null?typeof l:l[1].toLowerCase()}return e(t.indexOf(a)!==-1,o!=null?o:r("sprintf")("Expression is of type %s, not %s",a,t)),n}function u(t,n,r){return e(n instanceof t,r!=null?r:"Expression not instance of type"),n}function c(e,t){m["is"+e]=t,m["maybe"+e]=function(e,n){return e==null?e:t(e,n)}}var d=function(t,n){return t},m={isInstanceOf:u,isTrue:e,isTruthy:function(n,r){return e(!!n,r)},isBoolean:d,isFunction:d,isNumber:d,isObject:d,isString:d,isUndefined:d,maybeObject:d,maybeNumber:d,maybeFunction:d};["Boolean","Function","Number","Object","String","Undefined"].forEach(function(e){c(e,s.bind(null,e.toLowerCase()))});var p=m;l.default=p}),98);
__d("FalcoAppUniverse",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3}),l=e;i.default=l}),66);
__d("Queue",[],(function(t,n,r,o,a,i){var e={},l=(function(){function t(e){this._timeout=null,this._interval=(e==null?void 0:e.interval)||0,this._processor=e==null?void 0:e.processor,this._queue=[],this._stopped=!0}var n=t.prototype;return n._dispatch=function(t){var e=this;if(t===void 0&&(t=!1),!(this._stopped||this._queue.length===0)){var n=this._processor;if(n==null)throw this._stopped=!0,new Error("No processor available");var r=this._interval;if(r!=null)n.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return e._dispatch()},r);else for(;this._queue.length;)n.call(this,this._queue.shift())}},n.enqueue=function(t){return this._processor&&!this._stopped?this._processor(t):this._queue.push(t),this},n.start=function(t){return t&&(this._processor=t),this._stopped=!1,this._dispatch(),this},n.isStarted=function(){return!this._stopped},n.dispatch=function(){this._dispatch(!0)},n.stop=function(t){return this._stopped=!0,t&&this._timeout!=null&&clearTimeout(this._timeout),this},n.merge=function(t,n){if(n){var e;(e=this._queue).unshift.apply(e,t._queue)}else{var r;(r=this._queue).push.apply(r,t._queue)}return t._queue=[],this._dispatch(),this},n.getLength=function(){return this._queue.length},t.get=function(r,o){var n;return r in e?n=e[r]:n=e[r]=new t(o),n},t.exists=function(n){return n in e},t.remove=function(n){return delete e[n]},t})();i.default=l}),66);
__d("RDFDRequireDeferredReference",["RequireDeferredReference"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("RequireDeferredReference"));l.default=e}),98);
__d("requireDeferredForDisplay",["RDFDRequireDeferredReference"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=new(r("RDFDRequireDeferredReference"))(e);return t.setRequireDeferredForDisplay(!0),t}l.default=e}),98);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=r("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),g=5*1024,h=(e=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue)!=null?e:60*1e3,y=(s=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?s:1e3,C=(u=(m||(m=r("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?u:1e3,b="falco:",v=new(r("Queue")),S=5e3,R=6e4,L=r("uuidv4")(),E="ods_web_batch",k=new Map,I=new Set,T=new Set,D=o("FalcoUtils").getTaggedBitmap(38),x=(c=r("FalcoAppUniverse").cast((m||(m=r("AnalyticsCoreData"))).app_universe))!=null?c:1,$=[],P=0,N=null,M=!1,w=!1,A=!1,F=!0,O=!1,B=!1,W=Date.now()-R,q=1,U=C>h?C:h,V=C;de();for(var H of(G=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?G:[]){var G;I.add(H)}for(var z of(j=(m||(m=r("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?j:[]){var j;T.add(z)}function K(){return(m||(m=r("AnalyticsCoreData"))).enable_bladerunner&&!(_||(_=r("ExecutionEnvironment"))).isInWorker}function Q(e,t){o("FalcoUtils").bumpODSMetrics(t.item.name,"event.info.streaming.batched",1);var n=t.item.extra.length;P+n>g&&(clearTimeout(N),X()),$.push([e,t]),P+=n}function X(){N=null,M=!1;var e=$;re("event.info.streaming.batch_processing",e.map(function(e){return e[1].item})),B?v.enqueue(function(t){return t.log(e.map(function(e){return e[1].item}),function(t){if(!t){Y(e,"event.info.banzai_fallback");return}J(e,t,"event.info.streaming.enqueued")})}):Y(e,"event.non_critical_failure.streaming_init_not_complete"),$=[],P=0}function Y(e,t){var n=function(){var e,n=a[0],i=a[1],l=i.item;if(o("FalcoUtils").bumpODSMetrics(l.name,t,1),l.identity||(l.identity=(m||(m=r("AnalyticsCoreData"))).identity),(e=l.logCritical)!=null&&e)ae.logCritical([l],function(e){return n.markItem(i,e)});else{var s;(s=l.logImmediate)!=null&&s?ae.logImmediately([l],function(e){return n.markItem(i,e)}):ae.log([l],function(e){return n.markItem(i,e)})}};for(var a of e)n()}function J(e,t,n){for(var r of e){var a=r[0],i=r[1];o("FalcoUtils").bumpODSMetrics(i.item.name,n,1),a.markItem(i,t)}}function Z(e){return{events:e.map(function(e){return{name:e.name,extra:e.extra,rate:e.policy.r,time:e.time/1e3,tag:0,tags:e.tags,shouldAddState:e.shouldAddState,identity:te(e.identity),expTags:e.exptTags,sessionID:e.sessionId,deviceID:e.deviceId}})}}function ee(e){var t,n,o,a={deviceId:(m||(m=r("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:e,appId:m.app_id,appVersion:(t=(m||(m=r("AnalyticsCoreData"))).app_version)!=null?t:null,bundleId:null,consentState:null,identity:null,pushPhase:m.push_phase};return((n=(o=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:o.length)!=null?n:0)>0&&(a.ambientState=(m||(m=r("AnalyticsCoreData"))).state_for_br),a.identity=te(m.identity),Object.freeze(a)}function te(e){var t=e==null?void 0:e.claim,n=t!=null?[t]:[];if(x===2||x===3){var r=e==null?void 0:e.appScopedIdentity;if(r!==void 0)return{appScopedIdentity:{uid:r,identifier:r,claims:n}}}else{var o=e==null?void 0:e.fbIdentity;if(o!==void 0)return{facebookIdentity:{actorId:o.actorId,accountId:o.accountId,claims:n}}}return null}function ne(e,t){for(var n of e){var a,i,l,s=(l={},l.e=n.extra,l.r=n.policy.r,l.d=(a=n.deviceId)!=null?a:(m||(m=r("AnalyticsCoreData"))).device_id,l.s=(i=n.sessionId)!=null?i:o("WebSession").getId(),l.t=n.time,l.a=n.appVersion,l);n.privacyContext&&(s.p=n.privacyContext),n.tags!=null&&(s.b=n.tags);var u=n.identity;u&&(s.id=u),r("Banzai").post(b+n.name,s,t)}re("event.uploaded",e)}function re(e,t){for(var n of t)n.name!==E&&o("FalcoUtils").bumpODSMetrics(n.name,e,1)}function oe(e,t){var n="falco.fabric.www."+(m||(m=r("AnalyticsCoreData"))).push_phase;(d||(d=o("ODS"))).bumpEntityKey(1344,n,e,t)}var ae={log:function(t,n){re("event.info.banzai.log.upload_processing",t),ne(t,r("Banzai").BASIC),n(!0)},logImmediately:function(t,n){re("event.info.banzai.log_immediately.upload_processing",t),ne(t,r("Banzai").VITAL),n(!0)},logCritical:function(t,n){re("event.info.banzai.log_critical.upload_processing",t),ne(t,{signal:!0,retry:!0}),n(!0)}};function ie(e){de();var t=le(e,"banzai_data_loss","log"),n=le(e,"banzai_data_loss","logImmediately"),o=le(e,"banzai_data_loss","logCritical"),a=le(e,"bladerunner_data_loss",""),i=le(e,"bladerunner_data_loss","logCritical");if(oe("js.br_data_loss.posted."+e,1),B&&F)try{v.enqueue(function(t){return t.log([a],function(t){if(!t){oe("js.br.transport_failure."+e,1),ae.logCritical([i],function(t){oe("js.br.failure_fallback_success_callback."+e,1)});return}oe("js.br.success_callback."+e,1)})})}catch(t){oe("js.br.error_enqueueing."+e,1),ae.logCritical([i],function(t){oe("js.br.enqueuing_fallback_success_callback."+e,1)})}else F||oe("js.br.failed."+e,1),B||oe("js.br.init_not_complete."+e,1),ae.logCritical([i],function(t){oe("js.br.init_fallback_success_callback."+e,1)});ne([t],r("Banzai").BASIC),ne([n],r("Banzai").VITAL),ne([o],{signal:!0,retry:!0})}function le(e,t,n){return{name:t,time:(p||(p=r("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:e,falco_js_connection_id:L,logging_mode:n,logging_flow_flag:"original_flow"}),appVersion:(m||(m=r("AnalyticsCoreData"))).app_version}}function se(){W+S<Date.now()&&(ie(q),W=Date.now(),q++)}function ue(){window.setTimeout(function(){se(),q<=40&&ue()},R)}function ce(e){v.start(function(t){return t({log:function(n,o){re("event.info.streaming.queue_processing",n);var t=JSON.stringify(Z(n));e?(m||(m=r("AnalyticsCoreData"))).enable_ack?r("promiseDone")(e.amendWithAck(t),function(e){e?(re("event.streamed.with_ack",n),re("event.uploaded",n)):re("event.non_critical_failure.streaming.ack_failed",n),o(e)},function(){re("event.non_critical_failure.streaming.ack_rejected",n),o(!1)}):(e.amendWithoutAck(t),re("event.streamed.without_ack",n),re("event.uploaded",n)):(re("event.non_critical_error.streaming.stream_not_available",n),o(!1))},logImmediately:function(t,n){this.log(t,n)},logCritical:function(t,n){this.log(t,n)}})})}function de(){w||(B=!1,K()&&(f.onReady(function(e){if(!e){F=!1,O=!0,v.start(function(e){return e(ae)});return}var t=e,n,a={onTermination:function(t){t.message==="Stream closed"?(v.stop(!0),w=!1):(o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),F=!1,v.start(function(e){return e(ae)}))},onFlowStatus:function(){}};r("promiseDone")(t.requestStream({method:"Falco"},JSON.stringify(ee(o("WebSession").getId())),a,{requestId:""}).then(function(e){n=e,ce(n),B=!0,U=h,V=y}).catch(function(e){o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),v.stop(!0),w=!1}))}),w=!0))}function me(e){var t,n=e.name;if(!K()||!F)return!1;if(I.has(n)||e.policy.s!==1&&((t=(m||(m=r("AnalyticsCoreData"))).br_stateful_migration_on)!=null&&t)){var a;return e.shouldAddState=!0,e.tags=o("FalcoUtils").xorBitmap((a=e.tags)!=null?a:[0,0],D),!0}if(x!==1&&(m||(m=r("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!T.has(n))return!1;if(e.policy.s===1){var i;return e.tags=o("FalcoUtils").xorBitmap((i=e.tags)!=null?i:[0,0],D),!0}return!1}function pe(e){if(e==="")return null;if(k.has(e))return k.get(e);var t={claim:""},n=e.split("^#");if(n.length>=4){var r=n[0],o=n[1],a=n[2],i=n[3];a!==""?t={appScopedIdentity:a,claim:i}:r!==""&&(t={fbIdentity:{accountId:r,actorId:o},claim:i}),k.set(e,t)}return t}function _e(){if(A)return;A=!0,r("PersistedQueue").setHandler("falco_queue_log",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log",1),de(),N==null&&(N=setTimeout(X,U)),i&&!e(a)&&(n.item.identity=i),Q(t,n)):(i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.log([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_immediately",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_immediately",1),de(),(N==null||!M)&&(clearTimeout(N),N=setTimeout(X,V),M=!0),n.item.logImmediate=!0,i&&!e(a)&&(n.item.identity=i),Q(t,n),r("PersistedQueue").isPersistenceAllowed()||(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.streaming_no_persistence.log_immediately",1),X())):(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_immediately",1),i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.logImmediately([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_critical",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){var l=n.item;me(l)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_critical",1),de(),l.logCritical=!0,B?(i&&!e(a)&&(l.identity=i),v.enqueue(function(e){return e.logCritical([l],function(e){if(!e){l.identity||(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity),Y([[t,n]],"event.info.banzai_fallback.log_critical");return}J([[t,n]],e,"event.uploaded")})})):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,Y([[t,n]],"event.non_critical_failure.streaming_init_not_complete.log_critical"))):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_critical",1),ae.logCritical([l],function(e){return t.markItem(n,e)}))})(n)}),(m||(m=r("AnalyticsCoreData"))).enable_dataloss_timer&&(de(),se(),ue());function e(e){try{var t=o("FalcoUtils").identityToString((m||(m=r("AnalyticsCoreData"))).identity);return e===t}catch(e){return(d||(d=o("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1),!0}}}l.attach=_e}),98);
__d("FbtLogging",["cr:1094907","cr:8828"],(function(t,n,r,o,a,i,l){"use strict";var e=n("cr:1094907")==null?void 0:n("cr:1094907").logImpression,s=n("cr:8828")==null?void 0:n("cr:8828").logImpressionV2;l.logImpression=e,l.logImpressionV2=s}),98);
__d("IntlQtEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1848815"),s=o("FalcoLoggerInternal").create("intl_qt_event",e),u=s;l.default=u}),98);
__d("ObservableMixin",[],(function(t,n,r,o,a,i){function e(){this.__observableEvents={}}e.prototype={inform:function(t){for(var e=this,n=Array.prototype.slice.call(arguments,1),r=Array.prototype.slice.call(this.getSubscribers(t)),o=function(){if(r[a]===null)return 1;try{r[a].apply(e,n)}catch(e){window.setTimeout(function(){throw e},0)}},a=0;a<r.length;a++)o();return this},getSubscribers:function(t){return this.__observableEvents[t]||(this.__observableEvents[t]=[])},clearSubscribers:function(t){return t&&(this.__observableEvents[t]=[]),this},subscribe:function(t,n){var e=this.getSubscribers(t);return e.push(n),this},unsubscribe:function(t,n){for(var e=this.getSubscribers(t),r=0;r<e.length;r++)if(e[r]===n){e.splice(r,1);break}return this}},a.exports=e}),null);
__d("PageHooks",["Arbiter","ErrorUtils","InitialJSLoader","PageEvents"],(function(t,n,r,o,a,i){var e,l={DOMREADY_HOOK:"domreadyhooks",ONLOAD_HOOK:"onloadhooks"};function s(){d(_.DOMREADY_HOOK),window.domready=!0,n("Arbiter").inform("uipage_onload",!0,"state")}function u(){d(_.ONLOAD_HOOK),window.loaded=!0}function c(t,r){return(e||(e=n("ErrorUtils"))).applyWithGuard(t,null,null,function(e){e.event_type=r,e.category="runhook"},"PageHooks:"+r)}function d(e){var t=e=="onbeforeleavehooks"||e=="onbeforeunloadhooks";do{var n=window[e];if(!n)break;t||(window[e]=null);for(var r=0;r<n.length;r++){var o=c(n[r],e);if(t&&o)return o}}while(!t&&window[e])}function m(){window.domready||(window.domready=!0,d("onloadhooks")),window.loaded||(window.loaded=!0,d("onafterloadhooks"))}function p(){var e,t;(e=n("Arbiter")).registerCallback(s,[(t=n("PageEvents")).BIGPIPE_DOMREADY,n("InitialJSLoader").INITIAL_JS_READY]),e.registerCallback(u,[t.BIGPIPE_DOMREADY,t.BIGPIPE_ONLOAD,n("InitialJSLoader").INITIAL_JS_READY]),e.subscribe(t.NATIVE_ONBEFOREUNLOAD,function(e,t){t.warn=d("onbeforeleavehooks")||d("onbeforeunloadhooks"),t.warn||(window.domready=!1,window.loaded=!1)},"new"),e.subscribe(t.NATIVE_ONUNLOAD,function(e,t){d("onunloadhooks"),d("onafterunloadhooks")},"new")}var _=babelHelpers.extends({_domreadyHook:s,_onloadHook:u,runHook:c,runHooks:d,keepWindowSetAsLoaded:m},l);p(),t.PageHooks=a.exports=_}),null);
__d("PixelRatioConst",[],(function(t,n,r,o,a,i){var e=Object.freeze({cookieName:"dpr"});i.default=e}),66);
__d("PlatformDialog",["cx","CSS","DOMEvent","DOMEventListener"],(function(t,n,r,o,a,i,l){var e,s=(function(){"use strict";function t(t,r,o){var a=this;e=this,this.$1=t,this.$2=r,this.$3=!1,n("DOMEventListener").add(this.$1,"submit",function(e){if(a.$3){new(n("DOMEvent"))(e).kill();return}a.$3=!0,o&&n("CSS").addClass(t,"_32qa")})}t.getInstance=function(){return e};var r=t.prototype;return r.getForm=function(){return this.$1},r.getDisplay=function(){return this.$2},r.hasBeenSubmitted=function(){return this.$3},t})();s.RESPONSE="platform/dialog/response",a.exports=s}),null);
__d("StrSet",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$2={},this.$1=0,e&&this.addAll(e)}var t=e.prototype;return t.add=function(t){return Object.prototype.hasOwnProperty.call(this.$2,t)||(this.$2[t]=!0,this.$1++),this},t.addAll=function(t){return t.forEach(this.add,this),this},t.remove=function(t){return Object.prototype.hasOwnProperty.call(this.$2,t)&&(delete this.$2[t],this.$1--),this},t.removeAll=function(t){return t.forEach(this.remove,this),this},t.toArray=function(){return Object.keys(this.$2)},t.toMap=function(t){var e={};return Object.keys(this.$2).forEach(function(n){e[n]=typeof t=="function"?t(n):t||!0}),e},t.contains=function(t){return Object.prototype.hasOwnProperty.call(this.$2,t)},t.count=function(){return this.$1},t.clear=function(){return this.$2={},this.$1=0,this},t.clone=function(){return new e(this)},t.forEach=function(t,n){Object.keys(this.$2).forEach(t,n)},t.map=function(t,n){return Object.keys(this.$2).map(t,n)},t.some=function(t,n){return Object.keys(this.$2).some(t,n)},t.every=function(t,n){return Object.keys(this.$2).every(t,n)},t.filter=function(n,r){return new e(Object.keys(this.$2).filter(n,r))},t.union=function(t){return this.clone().addAll(t)},t.intersect=function(t){return this.filter(function(e){return t.contains(e)})},t.difference=function(t){var e=this;return t.filter(function(t){return!e.contains(t)})},t.equals=function(t){var e=function(t,n){return t===n?0:t<n?-1:1},n=this.toArray(),r=t.toArray();if(n.length!==r.length)return!1;var o=n.length;for(n=n.sort(e),r=r.sort(e);o--;)if(n[o]!==r[o])return!1;return!0},e})();i.default=e}),66);
__d("PlatformVersioning",["invariant","PlatformVersions","StrSet","getObjectValues"],(function(t,n,r,o,a,i,l){var e=new(n("StrSet"))(n("getObjectValues")(n("PlatformVersions").versions)),s=location.pathname,u=s.substring(1,s.indexOf("/",1)),c=e.contains(u)?u:n("PlatformVersions").versions.UNVERSIONED;function d(t,r){if(r==n("PlatformVersions").versions.UNVERSIONED)return t;e.contains(r)||l(0,3769);var o=t.indexOf("/")!==0?"/"+t:t;return"/"+r+o}function m(){return n("PlatformVersions").LATEST}function p(){return n("PlatformVersions").LATEST_LAUNCHED}function _(e){return e.setPath(d(e.getPath(),c))}function f(e){return d(e,c)}function g(t){return e.contains(t.substring(1,t.indexOf("/",1)))?t.substring(t.indexOf("/",1)):t}var h={addVersionToPath:d,getLatestVersion:m,getLatestLaunchedVersion:p,versionAwareURI:_,versionAwarePath:f,getUnversionedPath:g},y=h;i.default=y}),66);
__d("PlatformWidgetEndpoint",["PlatformVersioning"],(function(t,n,r,o,a,i){function e(e,t){return n("PlatformVersioning").versionAwarePath("/dialog/"+e+(t?"/"+t:""))}function l(e,t){return n("PlatformVersioning").versionAwarePath("/plugins/"+e+(t?"/"+t:""))}function s(e){return/^\/plugins\//.test(n("PlatformVersioning").getUnversionedPath(e))}function u(e){return/^\/dialog\//.test(n("PlatformVersioning").getUnversionedPath(e))}var c={dialog:e,plugins:l,isPluginEndpoint:s,isDialogEndpoint:u};a.exports=c}),null);
__d("Plugin",["Arbiter","ArbiterFrame"],(function(t,n,r,o,a,i){var e={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function(r,o){var t={identifier:r,href:r,story_fbid:o};n("Arbiter").inform(e.CONNECT,t),n("ArbiterFrame").inform(e.CONNECT,t)},disconnect:function(r,o){var t={identifier:r,href:r,story_fbid:o};n("Arbiter").inform(e.DISCONNECT,t),n("ArbiterFrame").inform(e.DISCONNECT,t)},error:function(r,o){n("Arbiter").inform(e.ERROR,{action:r,content:o})},reload:function(r){n("Arbiter").inform(e.RELOAD,{reloadUrl:r||""}),n("ArbiterFrame").inform(e.RELOAD,{reloadUrl:r||""})},reloadOtherPlugins:function(r,o){n("ArbiterFrame").inform(e.RELOAD,{reloadUrl:"",reload:r||"",identifier:o||""})}};a.exports=e}),null);
__d("resolveWindow",[],(function(t,n,r,o,a,i){function e(e){if(e==null)return null;var t=window,n=e.split(".");try{for(var r=0;r<n.length;r++){var o=n[r],a=/^frames\[[\'\"]?([a-zA-Z0-9\-_]+)[\'\"]?\]$/.exec(o);if(a)t=t.frames[a[1]];else if(o==="opener"||o==="parent"||o==="top")t=t[o];else return null}}catch(e){return null}return t}i.default=e}),66);
__d("Type",["Assert"],(function(t,n,r,o,a,i){function e(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function l(t,n){if(n instanceof t)return!0;if(n instanceof e){for(var r=0;r<n.__mixins.length;r++)if(n.__mixins[r]===t)return!0}return!1}function s(e,t){var n=e.prototype;Array.isArray(t)||(t=[t]);for(var r=function(){var e=t[o];typeof e=="function"&&(n.__mixins.push(e),e=e.prototype),Object.keys(e).forEach(function(t){n[t]=e[t]})},o=0;o<t.length;o++)r()}function u(t,r,o){var a=r&&Object.prototype.hasOwnProperty.call(r,"constructor")?r.constructor:function(){this.parent.apply(this,arguments)};if(n("Assert").isFunction(a),t&&!(t.prototype instanceof e))throw new Error("parent type does not inherit from Type");t=t||e;function i(){}return i.prototype=t.prototype,a.prototype=new i,r&&Object.assign(a.prototype,r),a.prototype.constructor=a,a.parent=t,a.prototype.__mixins=t.prototype.__mixins?Array.prototype.slice.call(t.prototype.__mixins):[],o&&s(a,o),a.prototype.parent=function(){this.parent=t.prototype.parent,t.apply(this,arguments)},a.prototype.parentCall=function(e){return t.prototype[e].apply(this,Array.prototype.slice.call(arguments,1))},a.extend=function(e,t){return u(this,e,t)},a}Object.assign(e.prototype,{instanceOf:function(t){return l(t,this)}}),Object.assign(e,{extend:function(t,n){return typeof t=="function"?u.apply(null,arguments):u(null,t,n)},instanceOf:l}),a.exports=e}),null);
__d("sdk.Model",["ObservableMixin","Type"],(function(t,n,r,o,a,i,l){"use strict";var e=r("Type").extend({constructor:function(t){this.parent();var e={},n=this;Object.keys(t).forEach(function(r){e[r]=t[r],n["set"+r]=function(t){return t===e[r]||(e[r]=t,n.inform(r+".change",t)),n},n["get"+r]=function(){return e[r]}})}},r("ObservableMixin")),s=e;l.default=s}),98);
__d("sdk.Runtime",["JSSDKRuntimeConfig","sdk.Model"],(function(t,n,r,o,a,i,l){var e,s={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},u=new(r("sdk.Model"))({AccessToken:"",AutoLogAppEvents:!1,ClientID:"",CookieUserID:"",EnforceHttps:!1,Environment:s.UNKNOWN,FamilyLoginLoaded:!1,GraphDomain:"",Initialized:!1,IsSPIN:!!(e=o("JSSDKRuntimeConfig")).isSPIN,IsVersioned:!1,KidDirectedSite:void 0,Locale:e.locale,LoggedIntoFacebook:void 0,LoginStatus:void 0,Revision:e.revision,Rtl:e.rtl,Scope:void 0,SDKAB:e.sdkab,SDKUrl:e.sdkurl,SDKNS:e.sdkns,ShouldLoadFamilyLogin:!1,UseCookie:!1,UseLocalStorage:!0,UserID:"",Version:void 0});Object.assign(u,{ENVIRONMENTS:s,isEnvironment:function(t){var e=this.getEnvironment();return(t|e)===e},isCanvasEnvironment:function(){return this.isEnvironment(s.CANVAS)||this.isEnvironment(s.PAGETAB)}}),(function(){var e=/app_runner/.test(window.name)?s.PAGETAB:/iframe_canvas/.test(window.name)?s.CANVAS:s.UNKNOWN;(e|s.PAGETAB)===e&&(e|=s.CANVAS),u.setEnvironment(e)})();var c=u;l.default=c}),98);
__d("UrlMap",["invariant","UrlMapConfig","sdk.Runtime"],(function(t,n,r,o,a,i,l,s){function e(e){var t="https";if(e==="graph_domain"){var n=r("sdk.Runtime").getGraphDomain();n?e="graph_".concat(n):e="graph"}return e in o("UrlMapConfig")?t+"://"+o("UrlMapConfig")[e]:(e in o("UrlMapConfig")||s(0,2511,e),"")}l.resolve=e}),98);
__d("sdk.Scribe",["QueryString","UrlMap","sdk.Runtime"],(function(t,n,r,o,a,i,l){var e={};function s(t,n,a){if(a===void 0&&(a=!1),t==="jssdk_error"){var i=JSON.stringify(n);if(Object.prototype.hasOwnProperty.call(e,i))return;e[i]=!0}if(n.extra!=null&&typeof n.extra=="object"){var l=n.extra;l.revision=r("sdk.Runtime").getRevision()}var s=new Image,u=o("UrlMap").resolve("www")+"/platform/scribe_endpoint.php/";a||(s.crossOrigin="anonymous"),s.src=r("QueryString").appendToUrl(u,{c:t,m:JSON.stringify(babelHelpers.extends({},n,{isSPIN:r("sdk.Runtime").getIsSPIN()}))})}l.log=s}),98);
__d("XD",["Arbiter","DOM","DOMDimensions","Log","PHPQuerySerializer","Queue","URI","getErrorSafe","isFacebookURI","isInIframe","resolveWindow","sdk.Scribe"],(function(t,n,r,o,a,i,l){var e,s,u={_callbacks:[],_opts:{autoResize:!1,allowShrink:!0,channelUrl:null,hideOverflow:!1,resizeTimeout:1e3,resizeWidth:!1},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,_forcedMinWidth:100,init:function(t){var e=this;this._opts=babelHelpers.extends({},this._opts,t),this._opts.autoResize&&this._startResizeMonitor(),r("Arbiter").subscribe("Connect.Unsafe.resize.ack",function(t,n){n.id||(n.id=e._resizeCount),n.id>e._lastResizeAckId&&(e._lastResizeAckId=n.id)})},getQueue:function(){return this._queue||(this._queue=new(r("Queue"))),this._queue},setChannelUrl:function(t){var e=this;this.getQueue().start(function(n){return e.send(n,t)})},send:function(n,a){if(n===void 0&&(n=null),a===void 0&&(a=null),a=a||this._opts.channelUrl,!a){this.getQueue().enqueue(n);return}var t={},i=new(s||(s=r("URI")))(a);Object.assign(t,n,(e||(e=o("PHPQuerySerializer"))).deserialize(i.getFragment()));var l=new s(t.origin);if(l.getDomain()===""){o("Log").error("No valid domain for XD message target.");return}var u=l.getOrigin();if(typeof t.relation!="string"){o("Log").error("No relation specified to resolve XD target window.");return}var c=r("resolveWindow")(t.relation.replace(/^parent\./,"")),d=1,m=function(){try{c.postMessage((e||(e=o("PHPQuerySerializer"))).serialize(t),u)}catch(e){var a=r("getErrorSafe")(e);--d?window.setTimeout(m,200):o("sdk.Scribe").log("jssdk_error",{error:"POST_MESSAGE",extra:{message:a.message+", html/js/modules/XD.js:139",ancestor_origins:JSON.stringify(location.ancestorOrigins),referrer:document.referrer,data:n}})}};m()},_computeSize:function(){var e=o("DOMDimensions").getDocumentDimensions(),t=0;if(this._opts.resizeWidth){var n=document.body;if(n!=null){if(n.clientWidth<n.scrollWidth)t=e.width;else{var a=n.lastElementChild;if(a!=null&&a instanceof HTMLElement){var i=a,l=i.offsetLeft+i.offsetWidth;l>t&&(t=l)}}t=Math.max(t,u._forcedMinWidth)}else t=u._forcedMinWidth}return e.width=t,this._opts.allowShrink&&(this._shrinker||(this._shrinker=r("DOM").create("div")),r("DOM").appendContent(document.body,this._shrinker),e.height=Math.max(this._shrinker.offsetTop,0)),e},_startResizeMonitor:function(){var e,t=this,n,o=(e=document.documentElement)!=null?e:{};if(this._opts.hideOverflow){var a;o.style.overflow="hidden",((a=document.body)!=null?a:{}).style.overflow="hidden"}var i=function(){var e=t._computeSize(),o=Date.now();if(!n||t._opts.allowShrink&&n.width!=e.width||!t._opts.allowShrink&&n.width<e.width||t._opts.allowShrink&&n.height!=e.height||!t._opts.allowShrink&&n.height<e.height){n=e,t._resizeCount++,t._resizeTimestamp=o;var a={type:"resize",height:e.height,ackData:{id:t._resizeCount},width:0};e.width&&e.width!=0&&(a.width=e.width);try{if(r("isFacebookURI")(new(s||(s=r("URI")))(document.referrer))&&r("isInIframe")()&&window.name&&window.parent.location&&window.parent.location.toString&&r("isFacebookURI")(new(s||(s=r("URI")))(window.parent.location)))for(var i=window.parent.document.getElementsByTagName("iframe"),l=0;l<i.length;l++)i[l].name==window.name&&(t._opts.resizeWidth&&(i[l].style.width=a.width+"px"),i[l].style.height=a.height+"px");t.send(a)}catch(e){t.send(a)}}};i(),window.setInterval(i,this._opts.resizeTimeout)}},c=babelHelpers.extends({},u);t.UnverifiedXD=c,t.XD=u,l.XD=u,l.UnverifiedXD=c}),98);
__d("UnverifiedXD",["XD"],(function(t,n,r,o,a,i,l){l.default=o("XD").UnverifiedXD}),98);
__d("getOffsetParent",["Style"],(function(t,n,r,o,a,i){function e(t){var r=t.parentNode;return!r||r===document.documentElement?document.documentElement:n("Style").get(r,"position")!=="static"?r:r===document.body?document.documentElement:e(r)}a.exports=e}),null);
__d("PluginResize",["Locale","Log","UnverifiedXD","getOffsetParent","getStyleProperty"],(function(t,n,r,o,a,i){function e(e){e=e||document.body;var t=0,r=n("getOffsetParent")(e);return n("Locale").isRTL()&&r?t=r.offsetWidth-e.offsetLeft-e.offsetWidth:n("Locale").isRTL()||(t=e.offsetLeft),l(e)+t}function l(e){return Math.ceil(parseFloat(n("getStyleProperty")(e,"width")))||e.offsetWidth}function s(e){return e=e||document.body,e.offsetHeight+e.offsetTop}function u(t,n,r){this.calcWidth=t||e,this.calcHeight=n||s,this.width=void 0,this.height=void 0,this.event=r||"resize"}Object.assign(u.prototype,{resize:function(){var e=this.calcWidth(),t=this.calcHeight();return(e!==this.width||t!==this.height)&&(n("Log").debug("Resizing Plugin: (%s, %s, %s, %s)",e,t,this.event),this.width=e,this.height=t,n("UnverifiedXD").send({type:this.event,width:e,height:t})),this},auto:function(t){return setInterval(this.resize.bind(this),t||250),this}}),u.auto=function(t,n,r){return new u(e.bind(null,t),s.bind(null,t),n).resize().auto(r)},u.autoHeight=function(e,t,n,r){return new u(function(){return e},s.bind(null,t),n).resize().auto(r)},u.getElementWidth=l,a.exports=u}),null);
__d("PluginReturn",["invariant","Arbiter","Log","PlatformDialog","PlatformWidgetEndpoint","Plugin","URI"],(function(t,n,r,o,a,i,l){var e;n("Arbiter").subscribe(n("PlatformDialog").RESPONSE,function(e,t){if(t.error_code){n("Log").debug("Plugin Return Error (%s): %s",t.error_code,t.error_message||t.error_description);return}n("Plugin").reload(t.plugin_reload)});var s={auto:function(){n("Arbiter").subscribe(n("Plugin").RELOAD,function(e,t){var n=typeof t=="object"?t.reloadUrl:t;s.reload(n)})},syncPlugins:function(){n("Arbiter").subscribe(n("Plugin").RELOAD,function(e,t){t.crossFrame&&s.reload(t.reloadUrl,t.reload,t.identifier)})},reload:function(r,o,a){var t=(e||(e=n("URI"))).getRequestURI().removeQueryData("ret").removeQueryData("act").removeQueryData("hash").addQueryData("reload",o).addQueryData("id",a);if(r){var o=new(e||(e=n("URI")))(r);n("PlatformWidgetEndpoint").isPluginEndpoint(o.getPath())||l(0,1120),t.setPath(o.getPath()).addQueryData(o.getQueryData())}window.location.replace(t.toString())}};a.exports=s}),null);
__d("SecurePostMessage",["invariant"],(function(t,n,r,o,a,i,l){"use strict";var e="*",s={sendMessageToSpecificOrigin:function(n,r,o,a){o!==e||l(0,21157),n.postMessage(r,o,a)},sendMessageForCurrentOrigin:function(t,n){t.postMessage(n)},sendMessageAllowAnyOrigin_UNSAFE:function(n,r,o){n.postMessage(r,e,o)}};a.exports=s}),null);
__d("PluginXDReady",["Arbiter","Log","SecurePostMessage","UnverifiedXD"],(function(t,n,r,o,a,i,l){var e={handleMessage:function(t){if(o("Log").debug("PluginXDReady at "+window.name+" handleMessage "+JSON.stringify(t)),!!t.method)try{r("Arbiter").inform("Connect.Unsafe."+t.method,JSON.parse(t.params),"persistent")}catch(e){}}};window.addEventListener("message",function(e){if(o("Log").debug("PluginXDReady at "+window.name+" received message "+JSON.stringify(e.data.message)),e.data.xdArbiterSyn)o("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(e.source,{xdArbiterAck:!0});else if(e.data.xdArbiterHandleMessage){if(!e.data.message.method)return;try{r("Arbiter").inform("Connect.Unsafe."+e.data.message.method,JSON.parse(e.data.message.params),"persistent")}catch(e){}}},!1),t.XdArbiter=e,r("UnverifiedXD").send({xd_action:"plugin_ready",name:window.name});var s=null;l.default=s}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:710")}),98);
__d("WebPixelRatio",["SiteData"],(function(t,n,r,o,a,i,l){function e(){return r("SiteData").pr!=null&&r("SiteData").pr>0?r("SiteData").pr:window.devicePixelRatio||1}l.get=e}),98);
__d("WebPixelRatioDetector",["Cookie","DOMEventListener","PixelRatioConst","Run","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=!1,s=!1;function u(){return window.devicePixelRatio||1}function c(){r("Cookie").set(r("PixelRatioConst").cookieName,String(u()))}function d(){s||(s=!0,u()!==o("WebPixelRatio").get()&&c())}function m(t){e||(e=!0,"onpagehide"in window&&o("DOMEventListener").add(window,"pagehide",d),o("Run").onBeforeUnload(d,!1))}l.startDetecting=m}),98);